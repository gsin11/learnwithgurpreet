<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn with Gurpreet - How to secure a Raspberry Pi on your network</title>
    <meta name="description" content="Every space has a story">
    <meta name="generator" content="Eleventy v1.0.1">

    <meta itemprop="name" content="How to secure a Raspberry Pi on your network - Learn with Gurpreet">
    <meta itemprop="description" content="If you are planning to expose your RaspberryPi over the internet, you should consider these security guidelines.">

    <link rel="shortcut icon" href="/assets/favicons/favicon.ico?v=1659626977106">
    <link rel="icon" type="image/png" href="/assets/favicons/favicon-32x32.png?v=1659626977106" sizes="32x32">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png?v=1659626977106">

    <meta name="twitter:title" content="How to secure a Raspberry Pi on your network - Learn with Gurpreet">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="If you are planning to expose your RaspberryPi over the internet, you should consider these security guidelines.">
    <meta name="twitter:site" content="@gsin11">
    <meta name="twitter:creator" content="@gsin11">
    <meta name="twitter:image" content="https://www.learnwithgurpreet.com/assets/images/cover2.jpg">

    <meta name="og:title" content="How to secure a Raspberry Pi on your network - Learn with Gurpreet">
    <meta name="og:description" content="If you are planning to expose your RaspberryPi over the internet, you should consider these security guidelines.">
    <meta name="og:image" content="https://www.learnwithgurpreet.com/assets/images/cover2.jpg">
    
    <link rel="canonical" href="https://www.learnwithgurpreet.com/posts/how-to-secure-a-raspberry-pi-on-your-network/">
    <meta name="og:url" content="https://www.learnwithgurpreet.com/posts/how-to-secure-a-raspberry-pi-on-your-network/">
    <meta name="og:site_name" content="Learn with Gurpreet">
    <meta name="og:locale" content="en_GB">
    <meta name="og:type" content="website">
    <link rel="manifest" href="/site.webmanifest?v=1659626977106">

    <link rel="stylesheet" href="/assets/css/output.css?v=1659626977106">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
    <link rel="alternate" href="/feed/feed.xml?v=1659626977106" type="application/atom+xml" title="gS">
    <link rel="alternate" href="/feed/feed.json?v=1659626977106" type="application/json" title="gS">
    <script>
      // On page load or when changing themes, best to add inline in `head` to avoid FOUC
      if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark')
      } else {
        document.documentElement.classList.remove('dark')
      }
    </script>
  </head>
  <body class="text-gray-600 dark:text-gray-300">
    <header>
  <nav class="shadow">
    <div class="container px-6 py-4 mx-auto flex justify-between items-center">
      <div class="flex items-center justify-between">
        <div>
          <a class="text-2xl font-bold transition-colors duration-200 transform lg:text-3xl" href="/">gS</a>
        </div>
      </div>
      <div class="items-center flex">
        <div class="hidden md:flex flex-col md:flex-row md:mx-6">
            <a class="my-1 font-medium transition-colors duration-200 transform hover:text-blue-600 dark:hover:text-blue-600 md:mx-4 md:my-0" href="/">Home</a>
            <a class="my-1 font-medium transition-colors duration-200 transform hover:text-blue-600 dark:hover:text-blue-600 md:mx-4 md:my-0" href="/archive/">Archive</a>
            <a class="my-1 font-medium transition-colors duration-200 transform hover:text-blue-600 dark:hover:text-blue-600 md:mx-4 md:my-0" href="/contact/">Contact</a>
        </div>
        <div class="flex flex-row gap-6">
          <button aria-label="search" id="search-btn">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
  </svg>
</button>
<section role="dialog" aria-labelledby="dialogTitle" aria-describedby="dialogDesc" id="search-box" class="search absolute inset-0 w-full h-screen z-10 hidden overflow-y-auto">
  <span class="hidden" id="dialogTitle">Search form</span>
  <span class="hidden" id="dialogDesc">This search is powered by algolia.</span>
  <div class="min-h-screen flex flex-col">
    <header class="w-full flex justify-end mx-auto items-center h-12 sm:h-16 px-6 z-10">
      <button id="btn-search-close" class="h-6 sm:h-8 block">
        <svg xmlns="http://www.w3.org/2000/svg" class="inline-block h-6 sm:h-8 w-6 sm:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <small class="w-6 sm:w-8 block text-center">ESC</small>
      </button>
    </header>
    <div class="px-6 pb-8 pt-16 sm:pt-24 w-full grow shrink-0">
      <div class="flex flex-col max-w-screen-xl mb-4 mx-auto">
        <div class="searchbox-container" id="searchbox"></div>
        <div id="search-results" class="search-results"></div>
        <div id="hits"></div>
        <div id="stats"></div>
        <footer class="mt-6 flex flex-row justify-center place-items-center">
          <span class="mr-2">Powered by</span>
          <a href="https://github.com/algolia/instantsearch.js/" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-label="powered by algolia search">
            <svg xmlns="http://www.w3.org/2000/svg" width="120" height="60" fill-rule="evenodd"><path d="M13.07 12.505H40.7c2.72 0 4.94 2.06 4.94 4.607V42.9c0 2.537-2.2 4.605-4.94 4.605H13.07c-2.72 0-4.94-2.06-4.94-4.605V17.1c0-2.535 2.207-4.595 4.94-4.595" fill="#5468ff"></path><path d="M30.8 20.316v-1.2c-.001-.838-.73-1.518-1.63-1.518h-3.797c-.9 0-1.628.68-1.63 1.518v1.232c0 .137.136.233.285.2 1.074-.3 2.187-.435 3.305-.434 1.083 0 2.156.137 3.192.402.138.032.274-.063.274-.2m-10.407 1.57l-.65-.605a1.69 1.69 0 0 0-1.151-.445 1.69 1.69 0 0 0-1.151.445l-.775.722c-.306.284-.478.67-.478 1.072s.172.788.478 1.072l.638.595c.103.095.252.073.342-.022.376-.482.792-.936 1.243-1.36a11.61 11.61 0 0 1 1.47-1.166c.114-.064.125-.213.034-.3m6.93 3.8v5.2c0 .15.172.255.32.18l4.948-2.388c.113-.052.147-.18.1-.286-1.026-1.678-2.93-2.824-5.13-2.898-.114 0-.228.085-.228.2m0 12.503c-4.126 0-7.477-3.12-7.477-6.963s3.352-6.96 7.477-6.96 7.478 3.12 7.478 6.96-3.34 6.963-7.478 6.963m0-16.853c-5.86 0-10.612 4.426-10.612 9.9s4.753 9.88 10.612 9.88 10.612-4.426 10.612-9.892-4.742-9.88-10.612-9.88" fill="#fff"></path><path d="M66.942 36.43c-4.265.02-4.265-3.442-4.265-3.993L62.67 19.47l2.602-.413v12.888c0 .313 0 2.293 1.67 2.3v2.186zM56.396 34.3c.798 0 1.4-.047 1.803-.126V31.54a5.33 5.33 0 0 0-.626-.127 6.16 6.16 0 0 0-.905-.067c-.287 0-.58.02-.872.067-.293.04-.56.12-.792.233s-.426.273-.566.478c-.146.206-.213.326-.213.638 0 .6.213.964.6 1.196s.912.352 1.57.352zm-.226-9.434c.858 0 1.583.107 2.17.32s1.058.5 1.404.9c.353.385.592.897.74 1.442a6.64 6.64 0 0 1 .226 1.8v6.684l-1.816.305a18.82 18.82 0 0 1-2.735.18 8.32 8.32 0 0 1-1.843-.193c-.56-.126-1.03-.332-1.43-.618a3 3 0 0 1-.924-1.102c-.22-.453-.333-1.1-.333-1.754 0-.638.126-1.043.373-1.482s.6-.797 1.018-1.076.924-.478 1.5-.598a8.6 8.6 0 0 1 1.77-.18c.287 0 .586.02.905.053a8.17 8.17 0 0 1 1.012.18v-.425c0-.298-.034-.584-.107-.85a1.83 1.83 0 0 0-.373-.71c-.175-.205-.412-.366-.705-.478a3.1 3.1 0 0 0-1.112-.2c-.6 0-1.144.073-1.644.16s-.912.186-1.225.298L52.73 25.4c.326-.113.8-.226 1.437-.34.625-.12 1.298-.173 2.016-.173zm51.383 9.36c.8 0 1.4-.047 1.802-.127v-2.64a5.25 5.25 0 0 0-.625-.127 6.17 6.17 0 0 0-.905-.067 5.56 5.56 0 0 0-.872.067c-.292.04-.56.12-.8.233a1.42 1.42 0 0 0-.566.478.9.9 0 0 0-.213.638c0 .6.213.964.6 1.196.392.24.912.352 1.57.352zm-.22-9.427c.858 0 1.583.106 2.17.32s1.058.5 1.404.9.592.897.738 1.442a6.64 6.64 0 0 1 .226 1.8v6.683l-1.816.306a18.8 18.8 0 0 1-2.735.18c-.672 0-1.3-.067-1.842-.193a3.89 3.89 0 0 1-1.431-.618 3 3 0 0 1-.925-1.102c-.22-.452-.333-1.1-.333-1.754a2.75 2.75 0 0 1 .373-1.482 3.13 3.13 0 0 1 1.018-1.076c.433-.278.925-.478 1.5-.598a8.56 8.56 0 0 1 1.771-.179c.286 0 .585.02.904.053s.653.093 1 .18v-.425a3.21 3.21 0 0 0-.106-.851 1.82 1.82 0 0 0-.373-.711c-.18-.206-.412-.366-.705-.478a3.08 3.08 0 0 0-1.112-.199c-.6 0-1.144.073-1.644.16s-.912.186-1.225.3l-.312-2.133c.326-.113.8-.225 1.437-.34a11.16 11.16 0 0 1 2.016-.172zm-7.812-1.236c.87 0 1.584-.705 1.584-1.575s-.706-1.574-1.584-1.574-1.583.705-1.583 1.574a1.58 1.58 0 0 0 1.583 1.575zm1.3 12.854h-2.615v-11.2l2.615-.412V36.43zm-4.584 0c-4.265.02-4.265-3.442-4.265-3.993l-.007-12.968 2.602-.413V31.94c0 .313 0 2.293 1.67 2.3zm-8.457-5.74c0-1.123-.246-2.06-.725-2.7-.48-.658-1.15-.983-2-.983s-1.53.325-2 .983-.713 1.587-.713 2.7c0 1.136.24 1.9.72 2.557.48.664 1.15 1 2 1s1.53-.332 2-1c.48-.664.718-1.42.718-2.557zm2.66-.007a6.29 6.29 0 0 1-.386 2.265c-.26.724-.625 1.342-1.097 1.854s-1.04.9-1.704 1.2a6.93 6.93 0 0 1-2.202.438c-.513-.007-1.53-.152-2.2-.438s-1.225-.678-1.697-1.2-.84-1.13-1.105-1.854-.4-1.388-.4-2.265.12-1.72.386-2.44a5.4 5.4 0 0 1 1.118-1.84 4.99 4.99 0 0 1 1.703-1.183c.66-.28 1.384-.412 2.17-.412s1.5.14 2.176.412a4.71 4.71 0 0 1 1.704 1.183 5.47 5.47 0 0 1 1.104 1.84c.28.717.42 1.562.42 2.44zm-19.582 0c0 1.1.24 2.298.718 2.803s1.098.757 1.857.757a3.95 3.95 0 0 0 1.171-.172 3.32 3.32 0 0 0 .892-.405v-6.45a10.19 10.19 0 0 0-1.718-.219c-.945-.027-1.663.36-2.168.976s-.752 1.7-.752 2.7zm7.233 5.128c0 1.774-.453 3.07-1.365 3.893s-2.302 1.236-4.178 1.236a17.93 17.93 0 0 1-3.247-.385l.42-2.06c.952.2 2.2.253 2.868.253 1.044 0 1.8-.213 2.235-.638s.665-1.056.665-1.894v-.425a7.91 7.91 0 0 1-1.018.386c-.42.126-.904.193-1.45.193-.718 0-1.37-.113-1.962-.34a4.09 4.09 0 0 1-1.524-.997c-.42-.438-.752-1-.985-1.647s-.353-1.833-.353-2.697c0-.8.127-1.827.373-2.505a4.78 4.78 0 0 1 1.098-1.747c.48-.485 1.065-.857 1.75-1.13a6.4 6.4 0 0 1 2.36-.444c.846 0 1.624.106 2.383.233l1.93.404v10.3z" fill="#5468ff"></path></svg>
          </a>
        </footer>
      </div>
    </div>
  </div>
</section>
          <button id="mode-toggle" class="mode-toggle is-ready" aria-label="Toggle dark mode" title="Toggle dark mode">
            <span class="mode-toggle-icons">
              <svg aria-hidden="true" role="presentation" xmlns="http://www.w3.org/2000/svg" class="inline-block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
              </svg>
              <svg aria-hidden="true" role="presentation" xmlns="http://www.w3.org/2000/svg" class="inline-block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
              </svg>
            </span>
          </button>
        </div>
      </div>
    </div>
  </nav>
</header>
    <main class="tmpl-post mt-8 container mx-auto px-6">
      <section class="min-h-screen w-full lg:max-w-6xl mx-auto flex">
  <article class="w-full md:w-3/4 md:pr-2">
    <div class="flex flex-row pb-3 pt-12">
      <time class="text-sm mr-2" datetime="2022-05-14">14 May 2022</time>
      <span class="inline-flex items-center leading-none text-sm">
        <svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>4 min read
      </span>
    </div>
    <h1 class="text-3xl lg:text-4xl font-semibold">How to secure a Raspberry Pi on your network</h1>
    <ul class="flex flex-wrap gap-1 py-3"><li><a href="/tags/privacy/" class="underline font-medium text-lg text-green-700 dark:text-green-500 hover:text-green-800 dark:hover:text-green-600">#privacy</a></li><li></li><li><a href="/tags/raspberry-pi/" class="underline font-medium text-lg text-green-700 dark:text-green-500 hover:text-green-800 dark:hover:text-green-600">#raspberry-pi</a></li><li>
    </li></ul>
    
      
        
      
      <picture><source type="image/avif" srcset="/assets/images/6K2gBcvLaY-400.avif 400w, /assets/images/6K2gBcvLaY-640.avif 640w" sizes="100vw"><source type="image/jpeg" srcset="/assets/images/6K2gBcvLaY-400.jpeg 400w, /assets/images/6K2gBcvLaY-640.jpeg 640w" sizes="100vw"><source type="image/webp" srcset="/assets/images/6K2gBcvLaY-400.webp 400w, /assets/images/6K2gBcvLaY-640.webp 640w" sizes="100vw"><img alt="Photo by Christina on Unsplash" loading="lazy" decoding="async" class="mx-auto" src="/assets/images/6K2gBcvLaY-400.jpeg" width="640" height="427"></picture>
      <p class="text-center pt-2 pb-4 text-sm">Photo by Christina on Unsplash</p>
    
    <div class="post-content">
      <p>If you are planning to expose your RaspberryPi over the internet, you should consider these security guidelines.</p>
<h2 id="installation" tabindex="-1">Installation <a class="direct-link" href="#installation" aria-hidden="true">#</a></h2>
<p><strong>Use the official Image tool:</strong> You often find RaspberryPi images online from various sources. When it comes to security and privacy I would consider the official <a href="https://www.raspberrypi.com/software/">RaspberryPi imager</a> to install RaspberryPi OS.</p>
<p><img src="/assets/images/raspberry_pi_os_selection.jpg" alt="" loading="lazy"></p>
<p>OS selection in Raspberry PI Imager</p>
<p><strong>Password and SSH:</strong> Use advance options and change the default password. In case you are going to use it with SSH then consider enabling it while the installation process itself.</p>
<p><img src="/assets/images/raspberry_pi_advanced_options.jpg" alt="" loading="lazy"></p>
<p>Enabling SSH and new password from Advanced options</p>
<blockquote>
<p>However, you can later add <code>SSH</code> option by creating <code>ssh</code> file (without any extension) on the root.</p>
</blockquote>
<p><strong>Update and Upgrade all packages:</strong> The fact of having an open-source system is you will get lots of updates, I would recommend updating packages even after a fresh install. Log in with SSH and perform <code>sudo apt update -y &amp;&amp; sudo apt upgrade -y</code> this command will first pull a list of the latest packages and followed by the installation.</p>
<p>Note: If you want to check what all packages are being installed, simply remove -y from the end of both commands.</p>
<h2 id="auto-updates" tabindex="-1">Auto Updates <a class="direct-link" href="#auto-updates" aria-hidden="true">#</a></h2>
<p>In the above-mentioned command, I showed you how to install the latest packages, but you need to do it manually. What if I give you an option where you don't need to perform manually but your Raspberry Pi will do it for you like Windows/Ubuntu.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Install following package</span><br>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> unattended-upgrades -y<br><br><span class="token comment"># After installation open following file</span><br>$ sudoedit /etc/apt/apt.conf.d/50unattended-upgrades<br><br><span class="token comment"># Add following given two lines</span><br><span class="token string">"origin=Raspbian,codename=<span class="token variable">${distro_codename}</span>,label=Raspbian"</span><span class="token punctuation">;</span><br><span class="token string">"origin=Raspberry Pi Foundation,codename=<span class="token variable">${distro_codename}</span>,label=Raspberry Pi Foundation"</span><span class="token punctuation">;</span></code></pre>
<p><img src="/assets/images/raspberry_pi_auto_updates-1024x542.jpg" alt="" loading="lazy"></p>
<p>Adding auto-update script configurations</p>
<p>These two lines will enable the package to pull the latest updates from Raspberry Pi official distros.</p>
<h2 id="user-management" tabindex="-1">User Management <a class="direct-link" href="#user-management" aria-hidden="true">#</a></h2>
<p>Since now we are up to date with our packages and auto-updates, it's time to set up user rights.</p>
<p>Raspberry Pi comes with a default user pi which every hacker is aware of. To get rid of the obvious chance to get hacked is to create a new user.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># First, create new user (gurpreet is a new user)</span><br>$ <span class="token function">sudo</span> adduser gurpreet<br><br><span class="token comment"># Now add your user to the admin group</span><br>$ <span class="token function">sudo</span> gpasswd -a gurpreet adm<br><br><span class="token comment"># Also, provide sudo access to your user</span><br>$ <span class="token function">sudo</span> gpasswd -a gurpreet <span class="token function">sudo</span></code></pre>
<blockquote>
<p>I would suggest to test newly created user by opening new terminal window and try login, before closing your existing window.</p>
</blockquote>
<p>Try: <code>sudo whoami</code> to check sudo user and it should return <code>root</code> as output.</p>
<p>Job is not done here, we need to lock the default <code>pi</code> user as well.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">passwd</span> -l pi</code></pre>
<p>It will lock <code>pi</code> the user. We will not delete this user since some packages have <code>pi</code> user hard-coded users to perform admin-related operations.</p>
<h2 id="firewall-setup" tabindex="-1">Firewall setup <a class="direct-link" href="#firewall-setup" aria-hidden="true">#</a></h2>
<p>After user management, you are quite safe than a normal Raspbian setup. Before opening your Raspberry Pi over the network, you should perform the following steps.</p>
<p>By default Raspberry Pi has open lots of ports for communication, sometimes hackers use these ports to get into your Raspberry Pi. In order to check, you can perform <code>netstat -an</code> command and see how many ports are open.</p>
<p>There are some packages that you can install to add a firewall, sometimes it gets very difficult to set up. I would recommend a package called <a href="https://help.ubuntu.com/community/UFW">UFW</a> which is quite easy to set up and is being widely used by industry-leading hosting companies like <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-20-04">Digital Ocean</a>.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ufw -y</code></pre>
<p>After the installation, enable <code>SSH</code> as a very first thing because I believe you will be logged in via <code>SSH</code>.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> ufw allow <span class="token number">22</span>/tcp comment <span class="token string">"SSH"</span></code></pre>
<p>Default <code>SSH</code> port is <code>22</code> hence we need to enable it first. Tip: You can put a comment at the end, it will help you to understand the reason for enabling it when you open multiple ports.</p>
<p>You simply add more ports to the list, like <code>80/tcp</code> for any web server related operation like<br>
Nginx, etc...</p>
<p>After adding all required ports, please enable <code>ufw</code> the firewall by triggering the following command.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> ufw <span class="token builtin class-name">enable</span></code></pre>
<p>It will immediately enable defined firewall rules on your Raspberry Pi. You can anytime check these defined rules with a command.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> ufw status numbered</code></pre>
<p><img src="/assets/images/raspberry_pi_ufw_status-1024x534.jpg" alt="" loading="lazy"></p>
<p><code>ufw</code> status command output</p>
<blockquote>
<p>Important: Before exiting, test your firewall setup by login in in new tab.</p>
</blockquote>
<h2 id="prevent-brute-force-attack" tabindex="-1">Prevent brute-force attack <a class="direct-link" href="#prevent-brute-force-attack" aria-hidden="true">#</a></h2>
<p>After enabling our Raspberry Pi with firewall protection, I would still recommend enabling brute-force protection.</p>
<p>These days systems are capable enough to perform millions of calculations in a fraction of seconds. Hence some hackers are using such CPU processing to guess passwords. If your password is easy to guess, there could be a chance you were attacked by a brute-force attack.</p>
<p>To prevent our Raspberry Pi from a brute-force attack we need to install another package that will protect it from it.</p>
<pre class="language-bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> fail2ban -y</code></pre>
<p>After installing it you need to configure it for your personal use.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Open fail2ban configuration file</span><br><br>$ sudoedit /etc/fail2ban/jail.local</code></pre>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Add following information</span><br><br><span class="token punctuation">[</span>DEFAULT<span class="token punctuation">]</span><br>bantime <span class="token operator">=</span> 1h<br>banaction <span class="token operator">=</span> ufw<br><br><span class="token punctuation">[</span>sshd<span class="token punctuation">]</span><br>enabled <span class="token operator">=</span> <span class="token boolean">true</span></code></pre>
<p>The above profile will disable the access for such users which are trying to guess your password more than 5 times.</p>
<p>Once you are done, please enable the service <code>sudo systemctl enable fail2ban</code></p>
<h2 id="useful-commands" tabindex="-1">Useful commands <a class="direct-link" href="#useful-commands" aria-hidden="true">#</a></h2>
<p><code>$ sudo systemctl --type=service</code> // List of all services</p>
<p><code>$ sudo systemctl --type=service --status=active</code> // List of all active services</p>
<p><code>$ sudo systemctl disable &lt;service-name&gt;</code> // Disable service</p>
<p><code>$ sudo systemctl enable --now &lt;service-name&gt;</code> // It will enable the given service (right away, you don't have to restart pi)</p>

    </div>

    <div class="flex flex-row mt-8 mb-4 border-b border-gray-300 py-2 justify-between">
      <div>
        <a target="_blank" rel="noopener noreferrer" href="https://github.com/learnwithgurpreet/learnwithgurpreet/blob/main/src/posts/how-to-secure-a-raspberry-pi-on-your-network.md" class="text-green-700 dark:text-green-500 hover:text-green-800 dark:hover:text-green-600">Edit</a>
      </div>
      <div class="flex">
        <span>Share:</span>
        <a class="ml-2" href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.learnwithgurpreet.com/posts/how-to-secure-a-raspberry-pi-on-your-network/" target="_blank" rel="noopener" aria-label="Share on LinkedIn (opens new tab)">
          <svg class="w-7 h-7 text-blue-600 fill-current dark:text-blue-500 hover:text-blue-600 dark:hover:text-blue-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path d="M417.2 64H96.8C79.3 64 64 76.6 64 93.9V415c0 17.4 15.3 32.9 32.8 32.9h320.3c17.6 0 30.8-15.6 30.8-32.9V93.9C448 76.6 434.7 64 417.2 64zM183 384h-55V213h55v171zm-25.6-197h-.4c-17.6 0-29-13.1-29-29.5 0-16.7 11.7-29.5 29.7-29.5s29 12.7 29.4 29.5c0 16.4-11.4 29.5-29.7 29.5zM384 384h-55v-93.5c0-22.4-8-37.7-27.9-37.7-15.2 0-24.2 10.3-28.2 20.3-1.5 3.6-1.9 8.5-1.9 13.5V384h-55V213h55v23.8c8-11.4 20.5-27.8 49.6-27.8 36.1 0 63.4 23.8 63.4 75.1V384z"></path>
          </svg>
        </a>
        <a class="ml-2" href="https://twitter.com/intent/tweet/?text=How to secure a Raspberry Pi on your network - Learn with Gurpreet&amp;url=https://www.learnwithgurpreet.com/posts/how-to-secure-a-raspberry-pi-on-your-network//&amp;via=" target="_blank" rel="noopener" aria-label="Share on Twitter (opens new tab)">
          <svg class="w-7 h-7 text-blue-600 fill-current dark:text-blue-500 hover:text-blue-600 dark:hover:text-blue-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path>
          </svg>
        </a>
      </div>
    </div>
    <ul class="flex gap-3 flex-col md:flex-row justify-between items-center"><li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
</svg> <a class="font-semibold" href="/posts/top-5-ways-to-structure-a-frontend-project/">Top 5 ways to structure a frontend project</a></li><li><a class="font-semibold" href="/posts/7-ways-to-make-your-website-more-accessible-and-sustainable/">7 ways to make your website more accessible and sustainable</a><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path>
</svg></li>
    </ul>
  </article>
  <aside class="w-1/4 px-2 pt-12 hidden md:block">
    <div class="sticky top-4">
      <p class="font-semibold tracking-tight mb-4">On This Page</p>
      <nav class="toc">
        <ol><li><a href="#installation">Installation</a></li><li><a href="#auto-updates">Auto Updates</a></li><li><a href="#user-management">User Management</a></li><li><a href="#firewall-setup">Firewall setup</a></li><li><a href="#prevent-brute-force-attack">Prevent brute-force attack</a></li><li><a href="#useful-commands">Useful commands</a></li></ol>
      </nav>
      <div class="flex flex-row mt-8 border-t border-gray-300 pt-4">
        <span>Share:</span>
        <a class="ml-2" href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.learnwithgurpreet.com/posts/how-to-secure-a-raspberry-pi-on-your-network/" target="_blank" rel="noopener" aria-label="Share on LinkedIn (opens new tab)">
          <svg class="w-7 h-7 text-blue-600 fill-current dark:text-blue-500 hover:text-blue-600 dark:hover:text-blue-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path d="M417.2 64H96.8C79.3 64 64 76.6 64 93.9V415c0 17.4 15.3 32.9 32.8 32.9h320.3c17.6 0 30.8-15.6 30.8-32.9V93.9C448 76.6 434.7 64 417.2 64zM183 384h-55V213h55v171zm-25.6-197h-.4c-17.6 0-29-13.1-29-29.5 0-16.7 11.7-29.5 29.7-29.5s29 12.7 29.4 29.5c0 16.4-11.4 29.5-29.7 29.5zM384 384h-55v-93.5c0-22.4-8-37.7-27.9-37.7-15.2 0-24.2 10.3-28.2 20.3-1.5 3.6-1.9 8.5-1.9 13.5V384h-55V213h55v23.8c8-11.4 20.5-27.8 49.6-27.8 36.1 0 63.4 23.8 63.4 75.1V384z"></path>
          </svg>
        </a>
        <a class="ml-2" href="https://twitter.com/intent/tweet/?text=How to secure a Raspberry Pi on your network - Learn with Gurpreet&amp;url=https://www.learnwithgurpreet.com/posts/how-to-secure-a-raspberry-pi-on-your-network//&amp;via=" target="_blank" rel="noopener" aria-label="Share on Twitter (opens new tab)">
          <svg class="w-7 h-7 text-blue-600 fill-current dark:text-blue-500 hover:text-blue-600 dark:hover:text-blue-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path>
          </svg>
        </a>
      </div>
    </div>
</aside></section>

    </main>
    <footer class="bg-gray-100 dark:bg-gray-800">
  <div class="mt-4 mx-auto">
    
    <div class="border-t mt-6 border-gray-300 dark:border-gray-700">
      <p class="pt-4 text-center text-gray-800 dark:text-white font-bold">©2020–Today / Copyright Gurpreet Singh. All rights reserved.</p>
      <p class="pt-4 pb-6 text-center text-gray-800 dark:text-white text-sm">This site is built with <a href="https://www.11ty.dev/" target="_blank" class="text-blue-600 dark:text-blue-500 hover:text-blue-600 dark:hover:text-blue-600">11ty</a> and hosted on <a href="https://vercel.com/" target="_blank" class="text-blue-600 dark:text-blue-500 hover:text-blue-600 dark:hover:text-blue-600">Vercel</a>. The source code is hosted on <a href="https://github.com/learnwithgurpreet/learnwithgurpreet" target="_blank" class="text-blue-600 dark:text-blue-500 hover:text-blue-600 dark:hover:text-blue-600">Github</a>. </p>
    </div>
  </div>
</footer>
    <!-- Current page: /posts/how-to-secure-a-raspberry-pi-on-your-network/ -->
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js" integrity="sha256-EXPXz4W6pQgfYY3yTpnDa3OH8/EPn16ciVsPQ/ypsjk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.8.3/dist/instantsearch.production.min.js" integrity="sha256-LAGhRRdtVoD6RLo2qDQsU2mp+XVSciKRC8XPOBWmofM=" crossorigin="anonymous"></script>
    <script src="/assets/js/app.js?v=1659626977106"></script>
    <script async="" defer="" data-website-id="3e14b7e3-0ea5-4787-af8a-224188a399bb" src="https://umami.learnwithgurpreet.com/umami.js"></script>
  

</body></html>